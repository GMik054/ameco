var WireService=function(a){"use strict";function c(a){return void 0===a}class b{constructor(a){this.type="ValueChangedEvent",this.value=a}}let{freeze:d,defineProperty:e,isExtensible:f}=Object,{forEach:g,splice:h,indexOf:i}=Array.prototype,j="connect",k="disconnect",l="config";function m(a,c){let b=i.call(a,c);b> -1&&h.call(a,b,1)}class n{constructor(a){this.connecting=[],this.disconnecting=[],this.configuring=[],this.isFirstUpdate=!0,this.callback=a,this.wiredElementHost=a.$$DeprecatedWiredElementHostKey$$,this.dynamicParamsNames=a.$$DeprecatedWiredParamsMetaKey$$,this.eventTarget={addEventListener:(b,a)=>{switch(b){case j:this.connecting.push(a);break;case k:this.disconnecting.push(a);break;case l:this.configuring.push(a),void 0!==this.currentConfig&&a.call(void 0,this.currentConfig);break;default:throw new Error(`Invalid event type ${b}.`)}},removeEventListener:(b,a)=>{switch(b){case j:m(this.connecting,a);break;case k:m(this.disconnecting,a);break;case l:m(this.configuring,a);break;default:throw new Error(`Invalid event type ${b}.`)}},dispatchEvent:a=>{if(a instanceof b){let c=a.value;this.callback(c)}else if("wirecontextevent"===a.type)return this.wiredElementHost.dispatchEvent(a);else throw new Error(`Invalid event type ${a.type}.`);return!1}}}update(a){var b,e,d,f,h,i;(!this.isFirstUpdate||(this.isFirstUpdate=!1,b=a,0===Object.keys(b).length||(e=a,0===(d=this.dynamicParamsNames).length||d.some(a=>!c(e[a])))))&&(c(this.currentConfig)||(f=a,h=this.currentConfig,(0,this.dynamicParamsNames).some(a=>f[a]!==h[a])))&&(this.currentConfig=a,g.call(this.configuring,b=>{b.call(void 0,a)}))}connect(){g.call(this.connecting,a=>a.call(void 0))}disconnect(){g.call(this.disconnecting,a=>a.call(void 0))}}return a.ValueChangedEvent=b,a.register=function(a,c){if(null==a||!f(a))throw new TypeError("adapter id must be extensible");if("function"!=typeof c)throw new TypeError("adapter factory must be a callable");if("adapter"in a)throw new TypeError("adapter id is already associated to an adapter factory");let b=class extends n{constructor(a){super(a),c(this.eventTarget)}};d(b),d(b.prototype),e(a,"adapter",{writable:!1,configurable:!1,value:b})},a.registerWireService=function(){},Object.defineProperty(a,"__esModule",{value:!0}),a}({})
